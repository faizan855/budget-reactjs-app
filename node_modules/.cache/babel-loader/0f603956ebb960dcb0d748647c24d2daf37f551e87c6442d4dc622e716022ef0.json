{"ast":null,"code":"var _jsxFileName = \"D:\\\\Next Project\\\\budget-reactjs-app\\\\src\\\\Components\\\\Home\\\\Expence.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Expence = _ref => {\n  _s();\n  let {\n    exp,\n    setExp,\n    expIndex,\n    expId,\n    setExpIndex\n  } = _ref;\n  const [obj, setObj] = useState({});\n  const handlechange = e => {\n    if (e.target.value !== \"\") {\n      setObj({\n        ...obj,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  const productRef = useRef(null);\n  const amountRef = useRef(null);\n  const expBtn = useRef(null);\n  const handleclick = () => {\n    if (!productRef.current.value || !amountRef.current.value) {\n      alert(\"fill the inputs\");\n    }\n    if (Object.entries(obj).length > 0 && productRef.current.value && amountRef.current.value) {\n      ////////////////////Time Function/////////////////////////\n\n      const initTime = new Date();\n      const hour = initTime.getHours();\n      const isPM = hour >= 12;\n      const dateString = (\"0\" + initTime.getDate()).slice(-2) + \"/\" + (\"0\" + (initTime.getMonth() + 1)).slice(-2) + \"/\" + initTime.getFullYear();\n      const timeString = (hour % 12 || 12) + \":\" + (\"0\" + initTime.getMinutes()).slice(-2) + \" \" + (isPM ? \"PM\" : \"AM\");\n\n      ///////////////////////Time Function//////////////////////\n\n      const idObj = {\n        ...obj,\n        id: exp.length + 1,\n        date: dateString,\n        time: timeString\n      };\n      if (expIndex !== null && expIndex >= 0) {\n        var updatedObj = exp.find(e => {\n          return e.id === expId;\n        });\n        // console.log(updatedObj, \"old object\");\n\n        var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\n        var indexNum = storageArry.findIndex(x => x.id === expId);\n\n        // console.log(indexNum, newarray, \"indexNum....\");\n\n        updatedObj.product = idObj.product;\n        updatedObj.amount = idObj.amount;\n        var updatedExp = [...exp];\n        updatedExp[indexNum] = updatedObj;\n\n        // console.log(updatedObj, \"new object\");\n\n        setExp(updatedExp);\n        setExpIndex(null);\n      } else {\n        setExp([...exp, idObj]);\n      }\n      setObj({\n        product: \"\",\n        amount: \"\"\n      });\n      productRef.current.value = null;\n      amountRef.current.value = null;\n      expBtn.current.textContent = \"Add Expence\";\n    }\n  };\n  useEffect(() => {\n    if (exp.length > 0) {\n      localStorage.setItem(\"Product Detail\", JSON.stringify(exp));\n    }\n  }, [exp]);\n  useEffect(() => {\n    var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\n    var indexNum = storageArry.findIndex(x => x.id === expId);\n    if (exp[expIndex]) {\n      productRef.current.value = exp[indexNum].product;\n      amountRef.current.value = exp[indexNum].amount;\n      expBtn.current.textContent = \"Update\";\n    }\n  }, [expIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box2-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginBottom: \"10px\"\n      },\n      children: \"Expences\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: handlechange,\n      className: \"pro\",\n      placeholder: \"Product\",\n      type: \"string\",\n      ref: productRef,\n      name: \"product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: handlechange,\n      className: \"pro\",\n      placeholder: \"Amount\",\n      type: \"number\",\n      ref: amountRef,\n      name: \"amount\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleclick,\n      className: \"button-3\",\n      ref: expBtn,\n      children: \"Add Expence\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Expence, \"yXliVlid8KXWOJxlg3g9IscWn7g=\");\n_c = Expence;\nexport default Expence;\nvar _c;\n$RefreshReg$(_c, \"Expence\");","map":{"version":3,"names":["useState","useRef","useEffect","jsxDEV","_jsxDEV","Expence","_ref","_s","exp","setExp","expIndex","expId","setExpIndex","obj","setObj","handlechange","e","target","value","name","productRef","amountRef","expBtn","handleclick","current","alert","Object","entries","length","initTime","Date","hour","getHours","isPM","dateString","getDate","slice","getMonth","getFullYear","timeString","getMinutes","idObj","id","date","time","updatedObj","find","storageArry","JSON","parse","localStorage","getItem","indexNum","findIndex","x","product","amount","updatedExp","textContent","setItem","stringify","className","children","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","type","ref","onClick","_c","$RefreshReg$"],"sources":["D:/Next Project/budget-reactjs-app/src/Components/Home/Expence.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\n\r\nconst Expence = ({ exp, setExp, expIndex, expId, setExpIndex }) => {\r\n  const [obj, setObj] = useState({});\r\n\r\n  const handlechange = (e) => {\r\n    if (e.target.value !== \"\") {\r\n      setObj({ ...obj, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  const productRef = useRef(null);\r\n  const amountRef = useRef(null);\r\n  const expBtn = useRef(null);\r\n\r\n  const handleclick = () => {\r\n    if (!productRef.current.value || !amountRef.current.value) {\r\n      alert(\"fill the inputs\");\r\n    }\r\n    if (\r\n      Object.entries(obj).length > 0 &&\r\n      productRef.current.value &&\r\n      amountRef.current.value\r\n    ) {\r\n      ////////////////////Time Function/////////////////////////\r\n\r\n      const initTime = new Date();\r\n      const hour = initTime.getHours();\r\n      const isPM = hour >= 12;\r\n      const dateString =\r\n        (\"0\" + initTime.getDate()).slice(-2) +\r\n        \"/\" +\r\n        (\"0\" + (initTime.getMonth() + 1)).slice(-2) +\r\n        \"/\" +\r\n        initTime.getFullYear();\r\n      const timeString =\r\n        (hour % 12 || 12) +\r\n        \":\" +\r\n        (\"0\" + initTime.getMinutes()).slice(-2) +\r\n        \" \" +\r\n        (isPM ? \"PM\" : \"AM\");\r\n\r\n      ///////////////////////Time Function//////////////////////\r\n\r\n      const idObj = {\r\n        ...obj,\r\n        id: exp.length + 1,\r\n        date: dateString,\r\n        time: timeString,\r\n      };\r\n      if (expIndex !== null && expIndex >= 0) {\r\n        var updatedObj = exp.find((e) => {\r\n          return e.id === expId;\r\n        });\r\n        // console.log(updatedObj, \"old object\");\r\n\r\n        var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\r\n\r\n        var indexNum = storageArry.findIndex((x) => x.id === expId);\r\n\r\n        // console.log(indexNum, newarray, \"indexNum....\");\r\n\r\n        updatedObj.product = idObj.product;\r\n        updatedObj.amount = idObj.amount;\r\n\r\n        var updatedExp = [...exp];\r\n\r\n        updatedExp[indexNum] = updatedObj;\r\n\r\n        // console.log(updatedObj, \"new object\");\r\n\r\n        setExp(updatedExp);\r\n\r\n        setExpIndex(null);\r\n      } else {\r\n        setExp([...exp, idObj]);\r\n      }\r\n\r\n      setObj({ product: \"\", amount: \"\" });\r\n      productRef.current.value = null;\r\n      amountRef.current.value = null;\r\n      expBtn.current.textContent = \"Add Expence\";\r\n    }\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    if (exp.length > 0) {\r\n      localStorage.setItem(\"Product Detail\", JSON.stringify(exp));\r\n    }\r\n  }, [exp]);\r\n\r\n  useEffect(() => {\r\n    var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\r\n\r\n    var indexNum = storageArry.findIndex((x) => x.id === expId);\r\n\r\n    if (exp[expIndex]) {\r\n      productRef.current.value = exp[indexNum].product;\r\n      amountRef.current.value = exp[indexNum].amount;\r\n      expBtn.current.textContent = \"Update\";\r\n    }\r\n  }, [expIndex]);\r\n\r\n  return (\r\n    <div className=\"box2-2\">\r\n      <h4 style={{ marginBottom: \"10px\" }}>Expences</h4>\r\n      <input\r\n        onChange={handlechange}\r\n        className=\"pro\"\r\n        placeholder=\"Product\"\r\n        type=\"string\"\r\n        ref={productRef}\r\n        name=\"product\"\r\n      />\r\n      <input\r\n        onChange={handlechange}\r\n        className=\"pro\"\r\n        placeholder=\"Amount\"\r\n        type=\"number\"\r\n        ref={amountRef}\r\n        name=\"amount\"\r\n      />\r\n      <br />\r\n      <button onClick={handleclick} className=\"button-3\" ref={expBtn}>\r\n        Add Expence\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expence;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}