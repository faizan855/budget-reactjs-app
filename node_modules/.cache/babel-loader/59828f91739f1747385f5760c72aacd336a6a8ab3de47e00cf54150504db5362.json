{"ast":null,"code":"import _toConsumableArray from\"D:/Next Project/budget-reactjs-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"D:/Next Project/budget-reactjs-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Next Project/budget-reactjs-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Next Project/budget-reactjs-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Expence=function Expence(_ref){var exp=_ref.exp,setExp=_ref.setExp,expIndex=_ref.expIndex,expId=_ref.expId,setExpIndex=_ref.setExpIndex;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),obj=_useState2[0],setObj=_useState2[1];var handlechange=function handlechange(e){if(e.target.value!==\"\"){setObj(_objectSpread(_objectSpread({},obj),{},_defineProperty({},e.target.name,e.target.value)));}};var productRef=useRef(null);var amountRef=useRef(null);var expBtn=useRef(null);var handleclick=function handleclick(){if(!productRef.current.value||!amountRef.current.value){alert(\"fill the inputs\");}if(Object.entries(obj).length>0&&productRef.current.value&&amountRef.current.value){////////////////////Time Function/////////////////////////\nvar initTime=new Date();var hour=initTime.getHours();var isPM=hour>=12;var dateString=(\"0\"+initTime.getDate()).slice(-2)+\"/\"+(\"0\"+(initTime.getMonth()+1)).slice(-2)+\"/\"+initTime.getFullYear();var timeString=(hour%12||12)+\":\"+(\"0\"+initTime.getMinutes()).slice(-2)+\" \"+(isPM?\"PM\":\"AM\");///////////////////////Time Function//////////////////////\nvar idObj=_objectSpread(_objectSpread({},obj),{},{id:exp.length+1,date:dateString,time:timeString});if(expIndex!==null&&expIndex>=0){var updatedObj=exp.find(function(e){return e.id===expId;});// console.log(updatedObj, \"old object\");\nvar storageArry=JSON.parse(localStorage.getItem(\"Product Detail\"));var indexNum=storageArry.findIndex(function(x){return x.id===expId;});// console.log(indexNum, newarray, \"indexNum....\");\nupdatedObj.product=idObj.product;updatedObj.amount=idObj.amount;var updatedExp=_toConsumableArray(exp);updatedExp[indexNum]=updatedObj;// console.log(updatedObj, \"new object\");\nsetExp(updatedExp);setExpIndex(null);}else{setExp([].concat(_toConsumableArray(exp),[idObj]));}setObj({product:\"\",amount:\"\"});productRef.current.value=null;amountRef.current.value=null;expBtn.current.textContent=\"Add Expence\";}};useEffect(function(){if(exp.length>0){localStorage.setItem(\"Product Detail\",JSON.stringify(exp));}},[exp]);useEffect(function(){var storageArry=JSON.parse(localStorage.getItem(\"Product Detail\"));var indexNum=storageArry.findIndex(function(x){return x.id===expId;});if(exp[expIndex]){productRef.current.value=exp[indexNum].product;amountRef.current.value=exp[indexNum].amount;expBtn.current.textContent=\"Update\";}},[expIndex]);return/*#__PURE__*/_jsxs(\"div\",{className:\"box2-2\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:\"10px\"},children:\"Expences\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handlechange,className:\"pro\",placeholder:\"Product\",type:\"string\",ref:productRef,name:\"product\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handlechange,className:\"pro\",placeholder:\"Amount\",type:\"number\",ref:amountRef,name:\"amount\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleclick,className:\"button-3\",ref:expBtn,children:\"Add Expence\"})]});};export default Expence;","map":{"version":3,"names":["useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","Expence","_ref","exp","setExp","expIndex","expId","setExpIndex","_useState","_useState2","_slicedToArray","obj","setObj","handlechange","e","target","value","_objectSpread","_defineProperty","name","productRef","amountRef","expBtn","handleclick","current","alert","Object","entries","length","initTime","Date","hour","getHours","isPM","dateString","getDate","slice","getMonth","getFullYear","timeString","getMinutes","idObj","id","date","time","updatedObj","find","storageArry","JSON","parse","localStorage","getItem","indexNum","findIndex","x","product","amount","updatedExp","_toConsumableArray","concat","textContent","setItem","stringify","className","children","style","marginBottom","onChange","placeholder","type","ref","onClick"],"sources":["D:/Next Project/budget-reactjs-app/src/Components/Home/Expence.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\n\r\nconst Expence = ({ exp, setExp, expIndex, expId, setExpIndex }) => {\r\n  const [obj, setObj] = useState({});\r\n\r\n  const handlechange = (e) => {\r\n    if (e.target.value !== \"\") {\r\n      setObj({ ...obj, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  const productRef = useRef(null);\r\n  const amountRef = useRef(null);\r\n  const expBtn = useRef(null);\r\n\r\n  const handleclick = () => {\r\n    if (!productRef.current.value || !amountRef.current.value) {\r\n      alert(\"fill the inputs\");\r\n    }\r\n    if (\r\n      Object.entries(obj).length > 0 &&\r\n      productRef.current.value &&\r\n      amountRef.current.value\r\n    ) {\r\n      ////////////////////Time Function/////////////////////////\r\n\r\n      const initTime = new Date();\r\n      const hour = initTime.getHours();\r\n      const isPM = hour >= 12;\r\n      const dateString =\r\n        (\"0\" + initTime.getDate()).slice(-2) +\r\n        \"/\" +\r\n        (\"0\" + (initTime.getMonth() + 1)).slice(-2) +\r\n        \"/\" +\r\n        initTime.getFullYear();\r\n      const timeString =\r\n        (hour % 12 || 12) +\r\n        \":\" +\r\n        (\"0\" + initTime.getMinutes()).slice(-2) +\r\n        \" \" +\r\n        (isPM ? \"PM\" : \"AM\");\r\n\r\n      ///////////////////////Time Function//////////////////////\r\n\r\n      const idObj = {\r\n        ...obj,\r\n        id: exp.length + 1,\r\n        date: dateString,\r\n        time: timeString,\r\n      };\r\n      if (expIndex !== null && expIndex >= 0) {\r\n        var updatedObj = exp.find((e) => {\r\n          return e.id === expId;\r\n        });\r\n        // console.log(updatedObj, \"old object\");\r\n\r\n        var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\r\n\r\n        var indexNum = storageArry.findIndex((x) => x.id === expId);\r\n\r\n        // console.log(indexNum, newarray, \"indexNum....\");\r\n\r\n        updatedObj.product = idObj.product;\r\n        updatedObj.amount = idObj.amount;\r\n\r\n        var updatedExp = [...exp];\r\n\r\n        updatedExp[indexNum] = updatedObj;\r\n\r\n        // console.log(updatedObj, \"new object\");\r\n\r\n        setExp(updatedExp);\r\n\r\n        setExpIndex(null);\r\n      } else {\r\n        setExp([...exp, idObj]);\r\n      }\r\n\r\n      setObj({ product: \"\", amount: \"\" });\r\n      productRef.current.value = null;\r\n      amountRef.current.value = null;\r\n      expBtn.current.textContent = \"Add Expence\";\r\n    }\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    if (exp.length > 0) {\r\n      localStorage.setItem(\"Product Detail\", JSON.stringify(exp));\r\n    }\r\n  }, [exp]);\r\n\r\n  useEffect(() => {\r\n    var storageArry = JSON.parse(localStorage.getItem(\"Product Detail\"));\r\n\r\n    var indexNum = storageArry.findIndex((x) => x.id === expId);\r\n\r\n    if (exp[expIndex]) {\r\n      productRef.current.value = exp[indexNum].product;\r\n      amountRef.current.value = exp[indexNum].amount;\r\n      expBtn.current.textContent = \"Update\";\r\n    }\r\n  }, [expIndex]);\r\n\r\n  return (\r\n    <div className=\"box2-2\">\r\n      <h4 style={{ marginBottom: \"10px\" }}>Expences</h4>\r\n      <input\r\n        onChange={handlechange}\r\n        className=\"pro\"\r\n        placeholder=\"Product\"\r\n        type=\"string\"\r\n        ref={productRef}\r\n        name=\"product\"\r\n      />\r\n      <input\r\n        onChange={handlechange}\r\n        className=\"pro\"\r\n        placeholder=\"Amount\"\r\n        type=\"number\"\r\n        ref={amountRef}\r\n        name=\"amount\"\r\n      />\r\n      <br />\r\n      <button onClick={handleclick} className=\"button-3\" ref={expBtn}>\r\n        Add Expence\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expence;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}